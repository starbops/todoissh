#!/bin/bash
set -e

# Script to package the todoissh application into a Docker image

# Check if binary exists
if [ ! -f "bin/todoissh" ]; then
    echo "Binary not found in bin/todoissh. Please run 'make build' first."
    exit 1
fi

echo "Packaging todoissh into Docker image..."

# Build the Docker image
docker build -t todoissh .

# Show the built image
docker images todoissh --format "Image built successfully:\nRepository: {{.Repository}}\nTag: {{.Tag}}\nSize: {{.Size}}\nCreated: {{.CreatedSince}}"

echo "Packaging complete" 